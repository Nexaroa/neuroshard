FROM python:3.9-slim

WORKDIR /app

# Install dependencies (added pandas/pyarrow for parquet)
RUN pip install torch requests transformers pandas pyarrow

# Copy generator script and neuroshard core (for tokenizer, new src/ layout)
COPY website/generate_genesis.py /app/
COPY src/neuroshard /app/neuroshard

# Run generator then serve files
CMD python generate_genesis.py && cd /data/genesis && python -m http.server 8080

