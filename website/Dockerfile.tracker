FROM python:3.10-slim

WORKDIR /app

# Install dependencies
# Removed asyncpg (Postgres driver)
RUN pip install fastapi uvicorn pydantic requests

# Copy tracker code (new src/ layout)
COPY src/neuroshard/tracker /app/tracker

# Run the tracker
ENV PYTHONPATH=/app
CMD ["uvicorn", "tracker.server:app", "--host", "0.0.0.0", "--port", "3000"]
